<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quiz zu ALEXAN - Das Geheimnis von Mystiko - Die Legende der Drei Artefakte</title>
<!-- Verlinkung zur zentralen CSS-Datei f√ºr das Layout -->
<link rel="stylesheet" href="style.css">
<style>
    /* Interne Styles zur Anpassung des Quiz-Designs an die allgemeine √Ñsthetik */
    /* body und #quiz-container werden durch .container und style.css gestylt */

    /* Container-Elemente und √úberschriften an den allgemeinen Stil anpassen */
    #quiz-container { 
        padding: 30px; 
    }
    h1, h2 { 
        text-align: center; 
        color: #004d40; /* Dunkles Teal */
    }
    /* H1 verwendet den Stil der Hauptseite */
    h1 {
        font-size: 20pt;
        border-bottom: 3px solid #004d40;
        padding-bottom: 10px;
        margin-bottom: 30px;
    }
    
    .question { 
        margin-bottom: 20px; 
        font-size: 14pt;
        font-weight: bold;
    }
    
    /* Styling f√ºr die Antwort-Optionen */
    .answers label { 
        display: block; 
        margin-bottom: 12px; 
        cursor: pointer; 
        padding: 10px;
        border-radius: 5px;
        border: 1px solid #ddd;
        transition: background-color 0.2s, border-color 0.2s;
        font-weight: normal;
        font-size: 12pt;
    }
    .answers label:hover { 
        background-color: #e0f7fa; /* Heller T√ºrkis-Hintergrund bei Hover */
        border-color: #004d40;
    }
    
    input[type="radio"] { 
        margin-right: 12px; 
        transform: scale(1.2); 
        vertical-align: middle; 
    }
    
    /* Anpassen des "Weiter"-Buttons, um die blaue .quiz-button Klasse zu verwenden */
    #next-btn { 
        display: block; 
        width: 100%; 
        margin-top: 25px;
        /* Die Farbe wird durch die Klasse .quiz-button in style.css auf Blau gesetzt */
    }

    #result { 
        margin-top: 30px; 
        text-align: center; 
    }
    
    /* Styling f√ºr die Buttons am Ende des Quiz */
    .end-screen-buttons { 
        margin-top: 30px; 
        display: flex; 
        justify-content: center; 
        gap: 20px; 
        flex-direction: column; /* Buttons auf Mobilger√§ten untereinander */
    }
    
    /* Spezielles Styling f√ºr den Neustart-Button (Teal als Akzentfarbe) */
    .restart-button {
        background-color: #004d40 !important; /* Teal */
        color: white !important;
    }
    
    /* Allgemeine Anpassung des Quiz-Buttons (aus style.css) */
    .quiz-button {
        text-decoration: none; /* Wichtig f√ºr den <a>-Tag */
    }

    /* Auf gr√∂√üeren Bildschirmen die Buttons wieder nebeneinander legen */
    @media (min-width: 600px) {
        .end-screen-buttons {
            flex-direction: row;
        }
    }

</style>
</head>
<body>
<!-- 
    Das <main class="container"> umschlie√üt das Quiz, 
    um das zentrierte Layout und den wei√üen Hintergrund 
    aus der style.css zu √ºbernehmen.
-->
<main class="container">
    <div id="quiz-container">
        <h1>Quiz zu ALEXAN - Das Geheimnis von Mystiko - Die Legende der Drei Artefakte</h1>
        <h2>Hallo mutiger Held! Viel Erfolg beim Quiz! üòä</h2>
        <div id="question-area"></div>
        <!-- Button verwendet die zentrale Klasse f√ºr das blaue Styling -->
        <button id="next-btn" class="quiz-button" disabled>Weiter</button>
        <div id="result"></div>
    </div>
</main>
<script>
// --- FRAGEN AKTUALISIERT ---
const questions = [
    // 1. Welche Rolle spielt Meridan NICHT in der Geschichte?
    { q: "Welche Rolle spielt Meridan NICHT in der Geschichte?", a: ["Ein Schmied", "Der H√ºter des Wissens", "Weiser"], correct: 0 },
    // 2. Was geschieht mit dem Nebel, als Alexan das Kind f√ºhrt?
    { q: "Was geschieht mit dem Nebel, als Alexan das Kind f√ºhrt?", a: ["Der Nebel f√§rbt sich rot.", "Der Nebel wird dichter.", "Der Nebel verwandelt sich in Feuer.", "Der Nebel zieht sich zur√ºck."], correct: 3 },
    // 3. Welche der folgenden Aussagen √ºber die Vereinigung der drei Artefakte ist NICHT korrekt?
    { q: "Welche der folgenden Aussagen √ºber die Vereinigung der drei Artefakte ist NICHT korrekt?", a: ["Das Licht kann die Finsternis besiegen.", "Es √∂ffnet sich ein Portal.", "Es verk√ºndet die Ankunft des Auserw√§hlten."], correct: 1 },
    // 4. Welche Aufgabe hat die Elfin Lyara im Wald von Lunaria?
    { q: "Welche Aufgabe hat die Elfin Lyara im Wald von Lunaria?", a: ["Anf√ºhrerin der Elfen", "Hohe Priesterin", "G√§rtnerin der Blumen", "S√§ngerin der Lieder"], correct: 1 },
    // 5. Welche Kombination aus Eigenschaften hilft Alexan, die Pr√ºfungen im Heiligen Tempel zu meistern?
    { q: "Welche Kombination aus Eigenschaften hilft Alexan, die Pr√ºfungen im Heiligen Tempel zu meistern?", a: ["Reichtum und Geld", "Schnelligkeit und Vertrauen", "Magie und Klugheit", "Mut und Klugheit"], correct: 3 },
    // 6. Welches Schwert w√§hlt Alexan bei den Heiligen Pr√ºfungen in Lunaria?
    { q: "Welches Schwert w√§hlt Alexan bei den Heiligen Pr√ºfungen in Lunaria?", a: ["Das goldene Schwert", "Das dunkle Schwert", "Das zerbrechliche Schwert", "Das kleine Schwert"], correct: 2 },
    // 7. Als Alexan das sagenumwobene Schwert findet, ‚Ä¶
    { q: "Als Alexan das sagenumwobene Schwert findet, ‚Ä¶", a: ["beginnt es zu singen.", "verschwindet es.", "leuchtet es bl√§ulich auf."], correct: 2 },
    // 8. Wer ist Riven am Anfang f√ºr Alexan?
    { q: "Wer ist Riven am Anfang f√ºr Alexan?", a: ["Ein Fremder", "Ein Freund", "Sein Bruder", "Ein Lehrer"], correct: 0 },
    // 9. Als Alexan das R√§tsel der Steintafel l√∂sen musste, hat er ‚Ä¶
    { q: "Als Alexan das R√§tsel der Steintafel l√∂sen musste, hat er ‚Ä¶", a: ["das sagenumwobene Schwert verwendet.", "den Code durch reines Gl√ºck erraten.", "verschiedene Kombinationen ausprobiert."], correct: 0 },
    // 10. Um die vier Elemente vor dem Steinw√§chter zu erwecken, ‚Ä¶
    { q: "Um die vier Elemente vor dem Steinw√§chter zu erwecken, ‚Ä¶", a: ["ber√ºhrte Alexan die Symbole in einer bestimmten Reihenfolge mit seinen H√§nden.", "f√ºllte Alexan die Elemente mit ihrer wahren Essenz und lie√ü sie wirken.", "schlug Alexan blindlings auf die Podeste, bis sie aufleuchteten."], correct: 1 },
    // 11. Um den Drachen von seinem Fluch zu befreien, muss Alexan ‚Ä¶
    { q: "Um den Drachen von seinem Fluch zu befreien, muss Alexan ‚Ä¶", a: ["ihn im Kampf besiegen.", "den Bann mit einem Zauberspruch aufl√∂sen.", "ihm die Hand reichen und Mitgef√ºhl zeigen."], correct: 2 },
    // 12. Was ist das besondere am Schild?
    { q: "Was ist das besondere am Schild?", a: ["Es kann Schatten abwehren.", "Es macht unsichtbar.", "Es heilt Wunden.", "Es verleiht Fl√ºgel."], correct: 0 },
    // 13. Alexan nutzte den Obsidianstein, um ‚Ä¶
    { q: "Alexan nutzte den Obsidianstein, um ‚Ä¶", a: ["den Geistern in Xandor Frieden zu schenken.", "sich aufzuw√§rmen.", "den heiligen Bogen zu finden.", "seine Waffe zu reparieren."], correct: 0 },
    // 14. Welche Rolle hat Prinzessin Ayana?
    { q: "Welche Rolle hat Prinzessin Ayana?", a: ["H√ºterin des Lichts", "Herrscherin der Schatten", "K√∂nigin der Drachen", "Botin des Windes"], correct: 0 },
    // 15. Was ist Rivens wahres dunkles Ich?
    { q: "Was ist Rivens wahres dunkles Ich?", a: ["Ein b√∂ser Zauberer aus einem anderen Land", "Eine Verk√∂rperung seiner Zweifel", "Ein uralter Drache", "Ein Schattenwesen ohne Gestalt"], correct: 1 },
    // 16. Womit greift Riven Alexan im Kampf an?
    { q: "Womit greift Riven Alexan im Kampf an?", a: ["Mit Pfeilen", "Mit d√§monischen Kr√§ften", "Mit Feuerb√§llen", "Mit einem Schwert"], correct: 1 },
    // 17. Welche der folgenden Aussagen √ºber den Moment, als das goldene Licht den Bannzauber auf das dunkle Buch legt, ist NICHT korrekt?
    { q: "Welche der folgenden Aussagen √ºber den Moment, als das goldene Licht den Bannzauber auf das dunkle Buch legt, ist NICHT korrekt?", a: ["Ein winziger, kaum sichtbarer Schatten entwich aus dem Buch und verschwand in den Rissen der Steinwand.", "Das Buch l√∂ste sich in goldenes Licht auf und verschwand vollst√§ndig.", "Das Zauberbuch erstarrte, seine Zeichen erloschen und das Fl√ºstern verstummte."], correct: 1 },
    // 18. Was erwartet Alexan im Wald von Lunaria?
    { q: "Was erwartet Alexan im Wald von Lunaria?", a: ["Ein Dorf voller freundlicher Menschen", "Magische R√§tsel und Pr√ºfungen", "Ein Brunnen, der W√ºnsche erf√ºllt", "Eine H√∂hle voller Sch√§tze"], correct: 1 },
    // 19. Wie verh√§lt sich Alexan in Gefahr?
    { q: "Wie verh√§lt sich Alexan in Gefahr?", a: ["Er rennt weg.", "Er denkt nach und handelt mutig.", "Er versteckt sich.", "Er ruft immer um Hilfe."], correct: 1 },
    // 20. Was l√∂st Rivens Zorn aus?
    { q: "Was l√∂st Rivens Zorn aus?", a: ["Angst und Schmerz", "Der Verlust der Artefakte", "Ein altes Versprechen", "Ein Drache"], correct: 0 }
];
// --- ENDE DER AKTUALISIERTEN FRAGEN ---

let currentQuestion = 0;
// F√ºllen Sie das Array mit null, um den Benutzerfortschritt zu speichern
const userAnswers = new Array(questions.length).fill(null); 
const questionArea = document.getElementById("question-area");
const nextBtn = document.getElementById("next-btn");
const resultDiv = document.getElementById("result");

function showQuestion(index) {
    nextBtn.disabled = true;
    const q = questions[index];
    let html = `<div class="question"><strong>Frage ${index+1} von ${questions.length}:</strong> ${q.q}</div><div class="answers">`;
    
    q.a.forEach((answer, i) => {
        // IDs und Name f√ºr Radio-Buttons verwenden
        const radioId = `q${index}_a${i}`;
        html += `<label for="${radioId}"><input type="radio" id="${radioId}" name="answer" value="${i}"> ${answer}</label>`;
    });
    
    html += `</div>`;
    questionArea.innerHTML = html;
    
    const radios = document.querySelectorAll('input[name="answer"]');
    
    radios.forEach(radio => {
        radio.addEventListener('change', () => {
            nextBtn.disabled = false;
            // Speichern der Antwort als Integer
            userAnswers[currentQuestion] = parseInt(radio.value);
        });
    });
    
    // Wiederherstellen der zuvor ausgew√§hlten Antwort
    if(userAnswers[currentQuestion] !== null) {
        radios.forEach(radio => {
            if(parseInt(radio.value) === userAnswers[currentQuestion]) {
                radio.checked = true;
                nextBtn.disabled = false;
            }
        });
    }
}

function showResult() {
    let correctCount = 0;
    questions.forEach((q, i) => {
        if(userAnswers[i] === q.correct) correctCount++;
    });
    const percent = Math.round((correctCount / questions.length) * 100);

    let resultHtml = `<h2>Dein Ergebnis:</h2>
                      <h3 style="color:#004d40;">${correctCount} von ${questions.length} richtig (${percent}%)</h3>`;

    if (percent >= 80) {
        resultHtml += `<h2 style="color:#008000;">BRAVO Tolle Leistung!</h2>`;
    } else if (percent >= 60) {
        resultHtml += `<h2 style="color:#ffa500;">Gute Leistung!</h2>`;
    } else {
        resultHtml += `<h2 style="color:#ff0000;">OK du musst es nochmals versuchen.</h2>`;
    }

    // Buttons f√ºr Neustart und Hauptseite hinzuf√ºgen
    resultHtml += `<div class="end-screen-buttons">
        <button onclick="restartQuiz()" class="quiz-button restart-button">Quiz Neustarten</button>
        <a href="index.html" class="quiz-button">Zur Hauptseite</a>
    </div>`;

    questionArea.innerHTML = "";
    nextBtn.style.display = "none";
    resultDiv.innerHTML = resultHtml;
}

function restartQuiz() {
    currentQuestion = 0;
    // Setzt alle Antworten auf null zur√ºck
    userAnswers.fill(null); 
    nextBtn.style.display = "block";
    resultDiv.innerHTML = "";
    // Beginnt das Quiz von vorne
    showQuestion(currentQuestion);
}

nextBtn.addEventListener("click", () => {
    currentQuestion++;
    if (currentQuestion < questions.length) {
        showQuestion(currentQuestion);
        resultDiv.innerHTML = "";
    } else {
        showResult();
    }
});

// Startet das Quiz beim Laden der Seite
showQuestion(currentQuestion);
</script>
</body>
</html>